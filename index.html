<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM-driven HRI Literature Database</title>
    <!-- Tailwind CSS for minimalist styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js for trend visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- ECharts for Sankey visualization -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    
    <!-- Configure custom colors (academic blue, light gray) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        academicBlue: '#1E40AF',
                        lightGray: '#F3F4F6',
                        deepGray: '#4B5563',
                        morphologyHumanoid: '#3B82F6',
                        morphologyFunctional: '#10B981',
                        morphologyOther: '#8B5CF6',
                        methodLab: '#EF4444',
                        methodField: '#F59E0B',
                        methodDemo: '#EC4899',
                        methodInterview: '#6366F1',
                        methodQuestionnaire: '#14B8A6',
                        methodTechnical: '#F97316',
                        evaluationObjective: '#10B981',
                        evaluationSubjective: '#F59E0B',
                        evaluationBoth: '#8B5CF6'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-white font-sans text-black">
    <!-- Fixed top navigation bar -->
    <nav class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <!-- Website logo -->
            <a href="#home" onclick="showPage('home')" class="flex items-center space-x-2">
                <img src="ARK.png" alt="ARK logo" class="h-8 w-auto object-contain">
                <span class="sr-only">ARK</span>
            </a>
            
            <!-- Navigation links -->
            <div class="flex gap-6">
                <a href="#home" class="text-gray-700 hover:text-academicBlue text-sm font-medium" onclick="showPage('home')">Home</a>
                <a href="#database" class="text-gray-700 hover:text-academicBlue text-sm font-medium" onclick="showPage('database')">Literature DB</a>
                <a href="#findings" class="text-gray-700 hover:text-academicBlue text-sm font-medium" onclick="showPage('findings')">Key Findings</a>
            </div>
        </div>
    </nav>

    <!-- Home page: Quick orientation and navigation -->
    <section id="home" class="container mx-auto px-4 pt-20 pb-16">
        <!-- ...existing home content... -->
        <!-- Core information section -->
        <div class="text-center mb-12">
            <h1 class="text-2xl md:text-3xl text-academicBlue font-bold mb-4">LLM-driven Human-Robot Interaction Literature Database</h1>
            <p class="text-gray-600 text-base md:text-lg">Based on 86 core empirical studies (2021-2025) focusing on LLM applications in HRI</p>
        </div>

        <!-- Statistics cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-10">
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100 text-center hover:shadow-md transition-shadow">
                <i class="fas fa-calendar-alt text-academicBlue text-2xl mb-3"></i>
                <p class="text-lg font-medium">Study Period</p>
                <p class="text-2xl text-academicBlue mt-2">2021-2025</p>
                <p class="text-xs text-gray-500 mt-1">LLM-HRI research boom period</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100 text-center hover:shadow-md transition-shadow">
                <i class="fas fa-book text-academicBlue text-2xl mb-3"></i>
                <p class="text-lg font-medium">Total Literature</p>
                <p class="text-2xl text-academicBlue mt-2">86 papers</p>
                <p class="text-xs text-gray-500 mt-1">Core empirical studies</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100 text-center hover:shadow-md transition-shadow">
                <i class="fas fa-tags text-academicBlue text-2xl mb-3"></i>
                <p class="text-lg font-medium">Research Focus</p>
                <p class="text-2xl text-academicBlue mt-2">7 categories</p>
                <p class="text-xs text-gray-500 mt-1">Morphology/method/evaluation/application</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100 text-center hover:shadow-md transition-shadow">
                <i class="fas fa-layer-group text-academicBlue text-2xl mb-3"></i>
                <p class="text-lg font-medium">Coverage Areas</p>
                <p class="text-2xl text-academicBlue mt-2">8 domains</p>
                <p class="text-xs text-gray-500 mt-1">Healthcare/education/domestic etc.</p>
            </div>           
        </div>

        <!-- Quick access buttons -->
        <div class="flex flex-col sm:flex-row justify-center gap-4">
            <button onclick="showPage('database')" class="border border-academicBlue text-academicBlue px-6 py-3 rounded-md hover:bg-academicBlue hover:text-white transition-colors font-medium flex items-center justify-center">
                <i class="fas fa-search mr-2"></i>Search Literature
            </button>
            <button onclick="showPage('findings')" class="border border-academicBlue text-academicBlue px-6 py-3 rounded-md hover:bg-academicBlue hover:text-white transition-colors font-medium flex items-center justify-center">
                <i class="fas fa-chart-line mr-2"></i>View Key Findings
            </button>
        </div>
        <!-- Footer note for Home page -->
        <div class="mt-6 text-center text-sm text-gray-500">
            If you have any questions, concerns, or find any inaccuracies, please contact us at <a href="mailto:wcsbsy0618@gmail.com" class="text-academicBlue hover:underline">wcsbsy0618@gmail.com</a>.
        </div>
        </section>

    <!-- Literature database page: Search and browsing -->
    <section id="database" class="container mx-auto px-4 pt-20 pb-16 hidden">
        <!-- Search section -->
        <div class="bg-gray-50 p-6 rounded-lg mb-10 shadow-sm border border-gray-100">
            <div class="flex flex-col gap-4">
                <!-- Keyword search -->
                <div>
                    <label class="text-sm text-gray-600 block mb-1 font-medium">Keyword Search</label>
                    <div class="relative">
                        <input type="text" id="keywordSearch" placeholder="Enter title/author/keyword (e.g., 'LLM+healthcare HRI')" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                        <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>

                <!-- Filter criteria -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div>
                        <label class="text-sm text-gray-600 block mb-1 font-medium">Year</label>
                        <select id="yearFilter" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                            <option value="all">All Years</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023">2023</option>
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 block mb-1 font-medium">Venue</label>
                        <select id="venueFilter" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                            <option value="all">All Venues</option>
                            <option value="CHI">CHI</option>
                            <option value="HRI">HRI</option>
                            <option value="ROMAN">ROMAN</option>
                            <option value="ROBIO">ROBIO</option>
                            <option value="IVA">IVA</option>
                            <option value="Proceedings of the ACM on Human-Computer Interaction">Proceedings of the ACM on Human-Computer Interaction</option>
                            <option value="UIST">UIST</option>
                            <option value="Science">Science</option>
                            <option value="THRI">THRI</option>
                            <option value="ICMI">ICMI</option>
                            <option value="ARSO">ARSO</option>
                            <option value="icra">ICRA</option>
                            <option value="iros">IROS</option>
                            <option value="sii">SII</option>
                            <option value="IEEE Robotics & Automation Magazine">IEEE Robotics & Automation Magazine</option>
                            <option value="COMPSAC">COMPSAC</option>
                            <option value="IMWUT">IMWUT</option>
                            <option value="AAMAS">AAMAS</option>
                            <option value="International Journal of Social Robotics">International Journal of Social Robotics</option>
                            <option value="IEEE Robotics and Automation Letters">IEEE Robotics and Automation Letters</option>
                            <option value="AutomotiveUI">AutomotiveUI</option>
                            <option value="DIS">DIS</option>
                            <option value="IEEE-RAS International Conference on Humanoid Robots">IEEE-RAS International Conference on Humanoid Robots</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 block mb-1 font-medium">Morphology</label>
                        <select id="morphologyFilter" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                            <option value="all">All Morphologies</option>
                            <option value="Humanoid">Humanoid</option>
                            <option value="Functional">Functional</option>
                            <option value="Other Morphology">Other Morphology</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 block mb-1 font-medium">Application Domain</label>
                        <select id="domainFilter" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                            <option value="all">All Domains</option>
                            <option value="Healthcare and Wellbeing">Healthcare and Wellbeing</option>
                            <option value="Teaching and Education">Teaching and Education</option>
                            <option value="Domestic and Everyday Use">Domestic and Everyday Use</option>
                            <option value="Industrial Manufacturing">Industrial Manufacturing</option>
                            <option value="AR/VR-enabled Interaction">AR/VR-enabled Interaction</option>
                            <option value="Public Space Service">Public Space Service</option>
                            <option value="Social and Conversational Systems">Social and Conversational Systems</option>
                            <option value="Other Domain">Other Domain</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm text-gray-600 block mb-1 font-medium">Research Methodology</label>
                        <select id="methodFilter" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                            <option value="all">All Methodologies</option>
                            <option value="Laboratory Experiment">Laboratory Experiment</option>
                            <option value="Field Deployment">Field Deployment</option>
                            <option value="Demonstration">Demonstration</option>
                            <option value="Interview">Interview</option>
                            <option value="Questionnaire">Questionnaire</option>
                            <option value="Technical Evaluation">Technical Evaluation</option>
                            <option value="Other Method">Other Method</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 block mb-1 font-medium">Evaluation Type</label>
                        <select id="evaluationFilter" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:border-academicBlue focus:ring-1 focus:ring-academicBlue">
                            <option value="all">All Evaluation Types</option>
                            <option value="Objective">Objective</option>
                            <option value="Subjective">Subjective</option>
                            <option value="Both">Both</option>
                        </select>
                    </div>
                </div>

                <!-- Search button -->
                <button onclick="filterLiterature()" class="bg-academicBlue text-white px-4 py-2 rounded-md text-sm hover:bg-opacity-90 transition-colors font-medium flex items-center justify-center">
                    <i class="fas fa-search mr-2"></i>Search Literature
                </button>
            </div>
        </div>

        <!-- Literature list section -->
        <div id="literatureList" class="space-y-6">
            <!-- Literature cards will be generated by JavaScript -->
        </div>

        <!-- Back to top button -->
        <button onclick="window.scrollTo({top:0, behavior:'smooth'})" class="fixed bottom-8 right-8 bg-white border border-gray-200 rounded-full p-3 shadow-md text-academicBlue hover:bg-gray-50 transition-colors">
            <i class="fas fa-arrow-up"></i>
        </button>
    </section>

    <!-- Literature detail modal -->
    <div id="detailModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
        <div class="bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 rounded-lg shadow-xl">
            <div class="flex justify-between items-start mb-6">
                <h3 id="detailTitle" class="text-xl font-bold text-academicBlue"></h3>
                <button onclick="hideDetail()" class="text-gray-500 hover:text-gray-700 transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="detailContent" class="text-sm space-y-4">
                <!-- Details will be populated by JavaScript -->
            </div>
            <div class="mt-6 flex justify-end">
                <button onclick="hideDetail()" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-md text-sm hover:bg-gray-200 transition-colors">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Key findings page: Review conclusions -->
    <section id="findings" class="container mx-auto px-4 pt-20 pb-16 hidden">
        <!-- Page title -->
        <h2 class="text-2xl text-academicBlue font-bold mb-8 text-center">Key Findings of LLM-driven HRI Research</h2>

        <!-- Research trend chart -->
        <div class="bg-gray-50 p-6 rounded-lg mb-10 shadow-sm border border-gray-100">
            <h3 class="text-lg font-bold mb-4 text-center">LLM-HRI Literature Publication Trend in the ACM digital library from 2015 to 2025</h3>
            <div class="w-full">
                <canvas id="trendChart"></canvas>
            </div>
            <p class="text-sm text-gray-600 text-center mt-4">Tip: data of 2025 is cut off at September 10, 2025.</p>
        </div>

        <!-- Charts grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
            <!-- Morphology distribution -->
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-center">Robot Morphology Distribution</h3>
                <div class="w-full h-64 flex justify-center items-center">
                    <canvas id="morphologyChart"></canvas>
                </div>
            </div>

            <!-- Application domain distribution -->
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-center">Application Domain Distribution</h3>
                <div class="w-full h-64  flex justify-center items-center"">
                    <canvas id="applicationChart"></canvas>
                </div>
            </div>

            <!-- Evaluation methods distribution -->
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-center">Evaluation Methods Distribution</h3>
                <div class="w-full h-64  flex justify-center items-center"">
                    <canvas id="evaluationChart"></canvas>
                </div>
            </div>

            <!-- Top venues distribution -->
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-center">Top Publication Venues</h3>
                <div class="w-full h-64  flex justify-center items-center"">
                    <canvas id="venueChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Sankey flow visualization -->
        <div class="bg-gray-50 p-6 rounded-lg mb-10 shadow-sm border border-gray-100">
            <h3 class="text-lg font-bold mb-4 text-center">Interaction Modalities & Research Flow (Sankey)</h3>
            <div id="sankeyChart" class="w-full" style="height:400px; width: 1500px;"></div>
        </div>

        <!-- Key findings section -->
        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 mb-12">
            <h3 class="text-lg font-bold mb-4">Core Conclusions from 5 Research Questions</h3>
            <div class="space-y-4 text-sm">
                <div class="border-l-4 border-academicBlue pl-4">
                    <p class="font-bold">RQ1:  How do LLMs transform the HRI research domain? </p>
                    <p class="text-gray-600"> LLMs significantly enhance robots' capacity for context-aware adaptation, personalized interaction,and in-situ learning, thereby enabling more natural and robust human-robot collaboration</p>
                </div>
                <div class="border-l-4 border-academicBlue pl-4">
                    <p class="font-bold">RQ2: How are LLMs integrated into HRI systems?</p>
                    <p class="text-gray-600"> Their integration varies widely across autonomy levels, modalities, and morphologies.</p>
                </div>
                <div class="border-l-4 border-academicBlue pl-4">
                    <p class="font-bold">RQ3: What research methods areused to assess LLM-driven HRI systems?</p>
                    <p class="text-gray-600"> Evaluation methods combine objective performance metrics with subjective user experience measures.</p>
                </div>
                <div class="border-l-4 border-academicBlue pl-4">
                    <p class="font-bold">RQ4: What opportunities and challenges do LLMs bring to HRI?</p>
                    <p class="text-gray-600"> LLMs unlock new potentials for adaptive and personalized HRI across domains such as healthcare, education, and domestic assistance and also introduce critical challenges, including technical limitations such as latency and unpredictability.</p>
                </div>
                <div class="border-l-4 border-academicBlue pl-4">
                    <p class="font-bold">RQ5: How are the technical and evaluation requirements for LLM–HRI systems dependent on specific scenarios and user groups, and what implications can be derived for future LLM-driven HRI research?</p>
                    <p class="text-gray-600"> The need for context-sensitive evaluation frameworks; and profound ethical implications concerning privacy, multimodal information alignment, and potential emotional dependencies.</p>
                </div>
            </div>
        </div>

        <!-- Category navigation section -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-gray-50 p-6 text-center cursor-pointer hover:bg-academicBlue/10 transition-colors rounded-lg shadow-sm border border-gray-100" onclick="filterByDomain('all')">
                <i class="fas fa-layer-group text-academicBlue text-2xl mb-3"></i>
                <p class="text-academicBlue font-bold">Browse by Application Domain</p>
                <p class="text-xs text-gray-600 mt-2">8 domains including healthcare/education/domestic</p>
            </div>
            <div class="bg-gray-50 p-6 text-center cursor-pointer hover:bg-academicBlue/10 transition-colors rounded-lg shadow-sm border border-gray-100" onclick="filterByTech()">
                <i class="fas fa-cogs text-academicBlue text-2xl mb-3"></i>
                <p class="text-academicBlue font-bold">Browse by Evaluation Method</p>
                <p class="text-xs text-gray-600 mt-2">Objective/Subjective</p>
            </div>
            <div class="bg-gray-50 p-6 text-center cursor-pointer hover:bg-academicBlue/10 transition-colors rounded-lg shadow-sm border border-gray-100" onclick="filterByMethod('all')">
                <i class="fas fa-flask text-academicBlue text-2xl mb-3"></i>
                <p class="text-academicBlue font-bold">Browse by Research Method</p>
                <p class="text-xs text-gray-600 mt-2">More than 8 methodologies including lab experiments/field deployments</p>
            </div>
        </div>

        <!-- Back to top button -->
        <button onclick="window.scrollTo({top:0, behavior:'smooth'})" class="fixed bottom-8 right-8 bg-white border border-gray-200 rounded-full p-3 shadow-md text-academicBlue hover:bg-gray-50 transition-colors">
            <i class="fas fa-arrow-up"></i>
        </button>
    </section>

    <!-- Literature data -->
    <script src="literatureData.js"></script>
    <script>

        // Chart data (updated per user request)
        const chartData = {
            yearDistribution: {"2015":1, "2016":2, "2017":0, "2018":1, "2019":1, "2020":5, "2021":7, "2022":21, "2023":108, "2024":311, "2025":268},
            morphologyDistribution: {"Humanoid": 37, "Functional": 32, "Other": 17},
            methodDistribution: {"Laboratory Experiment": 38, "Questionnaire": 42, "Interview": 18, "Field Deployment": 14, "Technical Evaluation": 20, "Demonstration": 10, "Other": 8},
            evaluationDistribution: {"Subjective": 30, "Objective": 6, "Both": 50},
            applicationDistribution: {"Social and conversational systems": 20, "Healthcare and Wellbeing": 17, "Domestic and everyday use": 20, "Teaching and education": 9, "Industrial manufacturing": 5, "AR/VR-enabled interactions": 5, "Public spaces service": 10, "Other": 5},
            venueDistribution: {
                "HRI": 24,
                "CHI": 12,
                "ROMAN": 9,
                "International Journal of Social Robotics": 7,
                "THRI": 4,
                "DIS": 4,
                "ICRA": 3,
                "Science": 3
            }
        };
    </script>

    <!-- Core interaction scripts -->
    <script>
        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('section').forEach(section => {
                section.classList.add('hidden');
            });
            // Show target page
            document.getElementById(pageId).classList.remove('hidden');
            // Scroll to top
            window.scrollTo({top:0, behavior:'smooth'});
        }

        // Show literature details
        function showDetail(literatureId) {
            const literature = literatureData.find(item => item.id === literatureId);
            if (!literature) return;

            document.getElementById('detailTitle').textContent = literature.title;
            
            let content = `
                <div class="space-y-4">
                    <div>
                        <p class="font-bold text-gray-700">Authors:</p>
                        <p class="text-gray-600">${literature.authors}</p>
                    </div>
                    <div>
                        <p class="font-bold text-gray-700">Venue:</p>
                        <p class="text-gray-600">${literature.venue}</p>
                    </div>
                    <div>
                        <p class="font-bold text-gray-700">DOI:</p>
                        <a href="${literature.url}" target="_blank" class="text-academicBlue hover:underline">${literature.doi}</a>
                    </div>
                    <div>
                        <p class="font-bold text-gray-700">Year:</p>
                        <p class="text-gray-600">${literature.year}</p>
                    </div>
                    <div>
                        <p class="font-bold text-gray-700">Abstract:</p>
                        <p class="text-gray-600 leading-relaxed">${literature.abstract}</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                        <div>
                            <p class="font-bold text-gray-700">Morphology:</p>
                            <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mt-1">${literature.morphology}</span>
                        </div>
                        <div>
                            <p class="font-bold text-gray-700">Study Method:</p>
                            <div class="flex flex-wrap gap-1 mt-1">
                                ${literature.studyMethod.split(',').map(method => 
                                    `<span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded">${method}</span>`
                                ).join('')}
                            </div>
                        </div>
                        <div>
                            <p class="font-bold text-gray-700">Evaluation:</p>
                            <span class="inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded mt-1">${literature.evaluation}</span>
                        </div>
                        <div>
                            <p class="font-bold text-gray-700">Application:</p>
                            <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded mt-1">${literature.application}</span>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('detailContent').innerHTML = content;
            document.getElementById('detailModal').classList.remove('hidden');
        }

        function hideDetail() {
            document.getElementById('detailModal').classList.add('hidden');
        }

        // Utility: normalize text for matching
        function norm(text) {
            return (text || '').toString().toLowerCase().trim();
        }

        // Initialize literature metadata for filtering
        function initLiteratureMetadata() {
            const cards = [];
            literatureData.forEach(lit => {
                cards.push({
                    id: lit.id,
                    year: lit.year.toString(),
                    venue: norm(lit.venue),
                    morphology: norm(lit.morphology),
                    domain: norm(lit.application),
                    methods: lit.studyMethod.toLowerCase().split(',').map(m => m.trim()),
                    evaluation: norm(lit.evaluation)
                });
            });
        }

        // Generate literature cards
        function generateLiteratureCards() {
            const container = document.getElementById('literatureList');
            container.innerHTML = '';
            
            literatureData.forEach(literature => {
                const card = document.createElement('div');
                card.className = 'border border-gray-200 p-5 rounded-lg hover:shadow-md transition-shadow';
                card.dataset.id = literature.id;
                card.dataset.year = literature.year;
                card.dataset.venue = literature.venue;
                card.dataset.morphology = literature.morphology.toLowerCase();
                card.dataset.domain = literature.application.toLowerCase();
                card.dataset.evaluation = literature.evaluation.toLowerCase();
                
                // Extract methods for data attribute
                const methods = literature.studyMethod.toLowerCase().split(',');
                card.dataset.methods = methods.join('|');
                
                // Get method color based on type
                function getMethodColor(method) {
                    const lowerMethod = method.toLowerCase();
                    if (lowerMethod.includes('laboratory')) return 'bg-red-100 text-red-800';
                    if (lowerMethod.includes('field')) return 'bg-yellow-100 text-yellow-800';
                    if (lowerMethod.includes('demonstration')) return 'bg-pink-100 text-pink-800';
                    if (lowerMethod.includes('interview')) return 'bg-indigo-100 text-indigo-800';
                    if (lowerMethod.includes('questionnaire')) return 'bg-teal-100 text-teal-800';
                    if (lowerMethod.includes('technical')) return 'bg-orange-100 text-orange-800';
                    return 'bg-gray-100 text-gray-800';
                }
                
                // Get morphology color
                function getMorphologyColor(morphology) {
                    const lowerMorphology = morphology.toLowerCase();
                    if (lowerMorphology.includes('humanoid')) return 'bg-blue-100 text-blue-800';
                    if (lowerMorphology.includes('functional')) return 'bg-green-100 text-green-800';
                    return 'bg-purple-100 text-purple-800';
                }
                
                // Get evaluation color
                function getEvaluationColor(evaluation) {
                    const lowerEvaluation = evaluation.toLowerCase();
                    if (lowerEvaluation.includes('objective')) return 'bg-green-100 text-green-800';
                    if (lowerEvaluation.includes('subjective')) return 'bg-yellow-100 text-yellow-800';
                    return 'bg-purple-100 text-purple-800';
                }
                
                // Get application color
                function getApplicationColor(application) {
                    const lowerApplication = application.toLowerCase();
                    if (lowerApplication.includes('healthcare')) return 'bg-red-100 text-red-800';
                    if (lowerApplication.includes('education')) return 'bg-blue-100 text-blue-800';
                    if (lowerApplication.includes('domestic')) return 'bg-green-100 text-green-800';
                    if (lowerApplication.includes('industrial')) return 'bg-gray-100 text-gray-800';
                    if (lowerApplication.includes('ar/vr')) return 'bg-purple-100 text-purple-800';
                    if (lowerApplication.includes('public')) return 'bg-yellow-100 text-yellow-800';
                    if (lowerApplication.includes('social')) return 'bg-pink-100 text-pink-800';
                    return 'bg-gray-100 text-gray-800';
                }
                
                card.innerHTML = `
                    <h3 class="text-lg font-bold text-academicBlue mb-2 line-clamp-2">${literature.title}</h3>
                    <p class="text-sm text-gray-600 mb-3 line-clamp-1">${literature.authors} | ${literature.year}, ${literature.venue.split(',')[0]}</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="${getMorphologyColor(literature.morphology)} text-xs px-2 py-1 rounded">${literature.morphology}</span>
                        ${literature.studyMethod.split(',').map(method => 
                            `<span class="${getMethodColor(method)} text-xs px-2 py-1 rounded">${method}</span>`
                        ).join('')}
                        <span class="${getEvaluationColor(literature.evaluation)} text-xs px-2 py-1 rounded">${literature.evaluation}</span>
                        <span class="${getApplicationColor(literature.application)} text-xs px-2 py-1 rounded">${literature.application}</span>
                    </div>
                    <button onclick="showDetail(${literature.id})" class="text-academicBlue text-sm font-medium hover:underline flex items-center">
                        <i class="fas fa-info-circle mr-1"></i> View Details
                    </button>
                `;
                
                container.appendChild(card);
            });
            
            // Initialize metadata after generating cards
            initLiteratureMetadata();
        }

        // Literature filtering with all criteria
        function filterLiterature() {
            // Get all filter values
            const keyword = norm(document.getElementById('keywordSearch').value);
            const year = norm(document.getElementById('yearFilter').value);
            const venue = norm(document.getElementById('venueFilter').value);
            const morphology = norm(document.getElementById('morphologyFilter').value);
            const domain = norm(document.getElementById('domainFilter').value);
            const method = norm(document.getElementById('methodFilter').value);
            const evaluation = norm(document.getElementById('evaluationFilter').value);

            // Get all literature cards
            const cards = document.querySelectorAll('#literatureList > div.border');
            
            // Filter each card
            cards.forEach(card => {
                let visible = true;
                const tags = norm(card.dataset.tags);
                const cardMethods = norm(card.dataset.methods || '');
                
                // Filter by year
                if (year && year !== 'all') {
                    const cardYear = norm(card.dataset.year || '');
                    if (cardYear !== year) {
                        visible = false;
                    }
                }
                
                // Filter by venue
                if (visible && venue && venue !== 'all') {
                    const cardVenue = norm(card.dataset.venue || '');
                    if (cardVenue !== venue) {
                        visible = false;
                    }
                }
                
                // Filter by morphology
                if (visible && morphology && morphology !== 'all') {
                    const cardMorphology = norm(card.dataset.morphology || '');
                    if (!cardMorphology.includes(morphology)) {
                        visible = false;
                    }
                }
                
                // Filter by domain
                if (visible && domain && domain !== 'all') {
                    const cardDomain = norm(card.dataset.domain || '');
                    if (!cardDomain.includes(domain)) {  
                        visible = false;
                    }
                }
                
                // Filter by method
                if (visible && method && method !== 'all') {
                    if (!cardMethods.includes(method)) {
                        visible = false;
                    }
                }
                
                // Filter by evaluation
                if (visible && evaluation && evaluation !== 'all') {
                    const cardEvaluation = norm(card.dataset.evaluation || '');
                    if (!cardEvaluation.includes(evaluation)) {
                        visible = false;
                    }
                }
                
                // Filter by keyword
                if (visible && keyword) {
                    const title = norm(card.querySelector('h3')?.textContent || '');
                    const authors = norm(card.querySelector('p.text-sm.text-gray-600')?.textContent || '');
                    const cardYear = norm(card.dataset.year || '');
                    const cardVenue = norm(card.dataset.venue || '');
                    
                    if (!title.includes(keyword) && !authors.includes(keyword) && !tags.includes(keyword) &&
                        !cardYear.includes(keyword) && !cardVenue.includes(keyword)) {
                        visible = false;
                    }
                }
                
                // Show or hide the card
                card.style.display = visible ? '' : 'none';
            });
        }

        // Filter by domain (category navigation)
        function filterByDomain(domain) {
            document.getElementById('domainFilter').value = domain;
            showPage('database');
            filterLiterature();
        }

        // Filter by technical direction (category navigation)
        function filterByTech() {
            showPage('database');
            filterLiterature();
        }

        // Filter by research method (category navigation)
        function filterByMethod(method) {
            document.getElementById('methodFilter').value = method;
            showPage('database');
            filterLiterature();
        }

        // Initialize charts
        function initCharts() {
            // Trend chart
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: Object.keys(chartData.yearDistribution),
                    datasets: [{
                        label: 'Number of Publications',
                        data: Object.values(chartData.yearDistribution),
                        borderColor: '#1E40AF',
                        backgroundColor: 'rgba(30, 64, 175, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Publications',
                                font: { size: 12 }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year',
                                font: { size: 12 }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Morphology chart
            const morphologyCtx = document.getElementById('morphologyChart').getContext('2d');
            new Chart(morphologyCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(chartData.morphologyDistribution),
                    datasets: [{
                        data: Object.values(chartData.morphologyDistribution),
                        backgroundColor: ['#3B82F6', '#10B981', '#8B5CF6'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Application chart
            const applicationCtx = document.getElementById('applicationChart').getContext('2d');
            new Chart(applicationCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(chartData.applicationDistribution),
                    datasets: [{
                        label: 'Number of Publications',
                        data: Object.values(chartData.applicationDistribution),
                        backgroundColor: '#1E40AF',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Publications',
                                font: { size: 12 }
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Evaluation chart
            const evaluationCtx = document.getElementById('evaluationChart').getContext('2d');
            new Chart(evaluationCtx, {
                type: 'pie',
                data: {
                    labels: Object.keys(chartData.evaluationDistribution),
                    datasets: [{
                        data: Object.values(chartData.evaluationDistribution),
                        backgroundColor: ['#10B981', '#F59E0B', '#8B5CF6'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Venue chart
            const venueCtx = document.getElementById('venueChart').getContext('2d');
            new Chart(venueCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(chartData.venueDistribution).map(venue => venue.length > 20 ? venue.substring(0, 20) + '...' : venue),
                    datasets: [{
                        label: 'Number of Publications',
                        data: Object.values(chartData.venueDistribution),
                        backgroundColor: '#1E40AF',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Publications',
                                font: { size: 12 }
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Sankey chart (ECharts)
                        try {
                                const sankeyDom = document.getElementById('sankeyChart');
                                if (sankeyDom) {
                                        const sankeyChart = echarts.init(sankeyDom);
                                        const sankeyOption = {
                                            tooltip: {
                                                trigger: 'item',
                                                triggerOn: 'mousemove'
                                            },
                                            series: [
                                                {
                                                    type: 'sankey',
                                                    data: [
                                                        {name: 'Information Interaction and Knowledge Transfer', itemStyle: {color: '#5470c6'}},
                                                        {name: 'Collaboration and Task Execution', itemStyle: {color: '#5470c6'}},
                                                        {name: 'Social and Emotional Connection', itemStyle: {color: '#5470c6'}},
                                                        {name: 'Learning and Personalized Development', itemStyle: {color: '#5470c6'}},
                                                        {name: 'Meta Layer', itemStyle: {color: '#5470c6'}},

                                                        {name: 'Text', itemStyle: {color: '#91cc75'}},
                                                        {name: 'Voice', itemStyle: {color: '#91cc75'}},
                                                        {name: 'Visual', itemStyle: {color: '#91cc75'}},
                                                        {name: 'Hybrid Modality', itemStyle: {color: '#91cc75'}},
                                                        {name: 'Motion', itemStyle: {color: '#91cc75'}},
                                                        {name: 'Other Modality', itemStyle: {color: '#91cc75'}},

                                                        {name: 'Humanoid', itemStyle: {color: '#fac858'}},
                                                        {name: 'Functional', itemStyle: {color: '#fac858'}},
                                                        {name: 'Other Morphology', itemStyle: {color: '#fac858'}},

                                                        {name: 'Full autonomy', itemStyle: {color: '#ee6666'}},
                                                        {name: 'Semi-autonomy', itemStyle: {color: '#ee6666'}},
                                                        {name: 'Teleoperate', itemStyle: {color: '#ee6666'}},

                                                        {name: 'Demonstration', itemStyle: {color: '#73c0de'}},
                                                        {name: 'Laboratory Experiment', itemStyle: {color: '#73c0de'}},
                                                        {name: 'Field Deployment', itemStyle: {color: '#73c0de'}},
                                                        {name: 'Interview', itemStyle: {color: '#73c0de'}},
                                                        {name: 'Questionnaire', itemStyle: {color: '#73c0de'}},
                                                        {name: 'Technical Evaluation', itemStyle: {color: '#73c0de'}},
                                                        {name: 'Other Method', itemStyle: {color: '#73c0de'}},

                                                        {name: 'Objective', itemStyle: {color: '#3ba272'}},
                                                        {name: 'Subjective', itemStyle: {color: '#3ba272'}},
                                                        {name: 'Both', itemStyle: {color: '#3ba272'}},

                                                        {name: 'Social and conversational systems', itemStyle: {color: '#fc8452'}},
                                                        {name: 'Healthcare and Wellbeing', itemStyle: {color: '#fc8452'}},
                                                        {name: 'Domestic and everyday use', itemStyle: {color: '#fc8452'}},
                                                        {name: 'Teaching and education', itemStyle: {color: '#fc8452'}},
                                                        {name: 'Industrial manufacturing', itemStyle: {color: '#fc8452'}},
                                                        {name: 'AR/VR-enabled interactions', itemStyle: {color: '#fc8452'}},
                                                        {name: 'Public spaces service', itemStyle: {color: '#fc8452'}},
                                                        {name: 'Other Application', itemStyle: {color: '#fc8452'}}
                                                    ],
                                                    links: [
                                                        {source: 'Information Interaction and Knowledge Transfer', target: 'Text', value:33},
                                                        {source: 'Information Interaction and Knowledge Transfer', target: 'Voice', value:38},
                                                        {source: 'Information Interaction and Knowledge Transfer', target: 'Visual', value:33},
                                                        {source: 'Information Interaction and Knowledge Transfer', target: 'Hybrid Modality', value:29},
                                                        {source: 'Information Interaction and Knowledge Transfer', target: 'Motion', value:23},
                                                        {source: 'Information Interaction and Knowledge Transfer', target: 'Other Modality', value:17},

                                                        {source: 'Collaboration and Task Execution', target: 'Text', value:31},
                                                        {source: 'Collaboration and Task Execution', target: 'Voice', value:38},
                                                        {source: 'Collaboration and Task Execution', target: 'Visual', value:39},
                                                        {source: 'Collaboration and Task Execution', target: 'Hybrid Modality', value:34},
                                                        {source: 'Collaboration and Task Execution', target: 'Motion', value:21},
                                                        {source: 'Collaboration and Task Execution', target: 'Other Modality', value:19},

                                                        {source: 'Social and Emotional Connection', target: 'Text', value:23},
                                                        {source: 'Social and Emotional Connection', target: 'Voice', value:38},
                                                        {source: 'Social and Emotional Connection', target: 'Visual', value:31},
                                                        {source: 'Social and Emotional Connection', target: 'Hybrid Modality', value:31},
                                                        {source: 'Social and Emotional Connection', target: 'Motion', value:18},
                                                        {source: 'Social and Emotional Connection', target: 'Other Modality', value:15},

                                                        {source: 'Learning and Personalized Development', target: 'Text', value:26},
                                                        {source: 'Learning and Personalized Development', target: 'Voice', value:28},
                                                        {source: 'Learning and Personalized Development', target: 'Visual', value:29},
                                                        {source: 'Learning and Personalized Development', target: 'Hybrid Modality', value:24},
                                                        {source: 'Learning and Personalized Development', target: 'Motion', value:15},
                                                        {source: 'Learning and Personalized Development', target: 'Other Modality', value:13},

                                                        {source: 'Meta Layer', target: 'Text', value:4},
                                                        {source: 'Meta Layer', target: 'Voice', value:10},
                                                        {source: 'Meta Layer', target: 'Visual', value:9},
                                                        {source: 'Meta Layer', target: 'Hybrid Modality', value:6},
                                                        {source: 'Meta Layer', target: 'Motion', value:6},
                                                        {source: 'Meta Layer', target: 'Other Modality', value:5},

                                                        {source: 'Text', target: 'Humanoid', value:20},
                                                        {source: 'Text', target: 'Functional', value:20},
                                                        {source: 'Text', target: 'Other Morphology', value:9},

                                                        {source: 'Voice', target: 'Humanoid', value:28},
                                                        {source: 'Voice', target: 'Functional', value:28},
                                                        {source: 'Voice', target: 'Other Morphology', value:12},

                                                        {source: 'Visual', target: 'Humanoid', value:23},
                                                        {source: 'Visual', target: 'Functional', value:23},
                                                        {source: 'Visual', target: 'Other Morphology', value:13},

                                                        {source: 'Hybrid Modality', target: 'Humanoid', value:17},
                                                        {source: 'Hybrid Modality', target: 'Functional', value:17},
                                                        {source: 'Hybrid Modality', target: 'Other Morphology', value:8},

                                                        {source: 'Motion', target: 'Humanoid', value:14},
                                                        {source: 'Motion', target: 'Functional', value:14},
                                                        {source: 'Motion', target: 'Other Morphology', value:5},

                                                        {source: 'Other Modality', target: 'Humanoid', value:8},
                                                        {source: 'Other Modality', target: 'Functional', value:8},
                                                        {source: 'Other Modality', target: 'Other Morphology', value:4},

                                                        {source: 'Humanoid', target: 'Full autonomy', value:24},
                                                        {source: 'Humanoid', target: 'Semi-autonomy', value:13},
                                                        {source: 'Humanoid', target: 'Teleoperate', value:0},

                                                        {source: 'Functional', target: 'Full autonomy', value:15},
                                                        {source: 'Functional', target: 'Semi-autonomy', value:15},
                                                        {source: 'Functional', target: 'Teleoperate', value:2},

                                                        {source: 'Other Morphology', target: 'Full autonomy', value:8},
                                                        {source: 'Other Morphology', target: 'Semi-autonomy', value:8},
                                                        {source: 'Other Morphology', target: 'Teleoperate', value:1},

                                                        {source: 'Full autonomy', target: 'Demonstration', value:13},
                                                        {source: 'Full autonomy', target: 'Laboratory Experiment', value:24},
                                                        {source: 'Full autonomy', target: 'Field Deployment', value:9},
                                                        {source: 'Full autonomy', target: 'Interview', value:15},
                                                        {source: 'Full autonomy', target: 'Questionnaire', value:38},
                                                        {source: 'Full autonomy', target: 'Technical Evaluation', value:21},
                                                        {source: 'Full autonomy', target: 'Other Method', value:5},

                                                        {source: 'Semi-autonomy', target: 'Demonstration', value:4},
                                                        {source: 'Semi-autonomy', target: 'Laboratory Experiment', value:17},
                                                        {source: 'Semi-autonomy', target: 'Field Deployment', value:9},
                                                        {source: 'Semi-autonomy', target: 'Interview', value:14},
                                                        {source: 'Semi-autonomy', target: 'Questionnaire', value:24},
                                                        {source: 'Semi-autonomy', target: 'Technical Evaluation', value:7},
                                                        {source: 'Semi-autonomy', target: 'Other Method', value:11},

                                                        {source: 'Teleoperate', target: 'Demonstration', value:0},
                                                        {source: 'Teleoperate', target: 'Laboratory Experiment', value:0},
                                                        {source: 'Teleoperate', target: 'Field Deployment', value:1},
                                                        {source: 'Teleoperate', target: 'Interview', value:2},
                                                        {source: 'Teleoperate', target: 'Questionnaire', value:1},
                                                        {source: 'Teleoperate', target: 'Technical Evaluation', value:1},
                                                        {source: 'Teleoperate', target: 'Other Method', value:1},

                                                        {source: 'Demonstration', target: 'Objective', value:11},
                                                        {source: 'Demonstration', target: 'Subjective', value:19},
                                                        {source: 'Demonstration', target: 'Both', value:11},

                                                        {source: 'Laboratory Experiment', target: 'Objective', value:29},
                                                        {source: 'Laboratory Experiment', target: 'Subjective', value:37},
                                                        {source: 'Laboratory Experiment', target: 'Both', value:25},

                                                        {source: 'Field Deployment', target: 'Objective', value:14},
                                                        {source: 'Field Deployment', target: 'Subjective', value:18},
                                                        {source: 'Field Deployment', target: 'Both', value:13},

                                                        {source: 'Interview', target: 'Objective', value:18},
                                                        {source: 'Interview', target: 'Subjective', value:30},
                                                        {source: 'Interview', target: 'Both', value:17},

                                                        {source: 'Questionnaire', target: 'Objective', value:45},
                                                        {source: 'Questionnaire', target: 'Subjective', value:60},
                                                        {source: 'Questionnaire', target: 'Both', value:42},

                                                        {source: 'Technical Evaluation', target: 'Objective', value:22},
                                                        {source: 'Technical Evaluation', target: 'Subjective', value:29},
                                                        {source: 'Technical Evaluation', target: 'Both', value:22},

                                                        {source: 'Other Method', target: 'Objective', value:11},
                                                        {source: 'Other Method', target: 'Subjective', value:14},
                                                        {source: 'Other Method', target: 'Both', value:8},

                                                        {source: 'Objective', target: 'Social and conversational systems', value:16},
                                                        {source: 'Objective', target: 'Healthcare and Wellbeing', value:8},
                                                        {source: 'Objective', target: 'Domestic and everyday use', value:11},
                                                        {source: 'Objective', target: 'Teaching and education', value:5},
                                                        {source: 'Objective', target: 'Industrial manufacturing', value:5},
                                                        {source: 'Objective', target: 'AR/VR-enabled interactions', value:3},
                                                        {source: 'Objective', target: 'Public spaces service', value:7},
                                                        {source: 'Objective', target: 'Other Application', value:2},

                                                        {source: 'Subjective', target: 'Social and conversational systems', value:16},
                                                        {source: 'Subjective', target: 'Healthcare and Wellbeing', value:12},
                                                        {source: 'Subjective', target: 'Domestic and everyday use', value:19},
                                                        {source: 'Subjective', target: 'Teaching and education', value:9},
                                                        {source: 'Subjective', target: 'Industrial manufacturing', value:4},
                                                        {source: 'Subjective', target: 'AR/VR-enabled interactions', value:4},
                                                        {source: 'Subjective', target: 'Public spaces service', value:10},
                                                        {source: 'Subjective', target: 'Other Application', value:5},

                                                        {source: 'Both', target: 'Social and conversational systems', value:12},
                                                        {source: 'Both', target: 'Healthcare and Wellbeing', value:8},
                                                        {source: 'Both', target: 'Domestic and everyday use', value:10},
                                                        {source: 'Both', target: 'Teaching and education', value:5},
                                                        {source: 'Both', target: 'Industrial manufacturing', value:4},
                                                        {source: 'Both', target: 'AR/VR-enabled interactions', value:2},
                                                        {source: 'Both', target: 'Public spaces service', value:7},
                                                        {source: 'Both', target: 'Other Application', value:2}
                                                    ],
                                                    emphasis: {focus: 'adjacency'},
                                                    orient: 'horizontal',
                                                    nodeWidth: 20,
                                                    nodeGap: 12,
                                                    label: {fontSize: 12, color: '#333'},
                                                    lineStyle: {color: 'source', curveness: 0.5}
                                                }
                                            ]
                                        };
                                        sankeyChart.setOption(sankeyOption);
                                        window.addEventListener('resize', () => sankeyChart.resize());
                                }
                        } catch (e) {
                                console.warn('ECharts sankey init failed:', e);
                        }
        }

        // Initialize page when loaded
        window.onload = function() {
            // Generate literature cards
            generateLiteratureCards();
            
            // Add event listeners to filter controls
            ['yearFilter', 'venueFilter', 'morphologyFilter', 'domainFilter', 'methodFilter', 'evaluationFilter'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('change', filterLiterature);
                }
            });
            
            // Add event listener to keyword search
            const keywordInput = document.getElementById('keywordSearch');
            if (keywordInput) {
                keywordInput.addEventListener('input', filterLiterature);
            }
            
            // Initialize charts
            initCharts();

            // Run initial filter
            filterLiterature();
        };
    </script>
</body>
</html>
